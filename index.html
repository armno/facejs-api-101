<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Face detection with face-api.js</title>
	<style>
		html {
			font-size: 118.5%;
		}

		body {
			margin: 0;
			display: flex;
			flex-direction: row;
			font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
			color: #141414;
		}

		.wrapper {
			position: relative;
			margin-right: 40px;
			width: 640px;
		}

		canvas {
			position: absolute;
			top: 0;
			left: 0;
		}

		.info {
			margin-right: 40px;
			max-width: 220px;
		}

		.info-value h4,
		.media-device-id {
			font-weight: 300;
			text-transform: uppercase;
			color: #565656;
			margin-bottom: 0.5em;
			font-size: 0.75rem;
		}

		.media-devices {
			list-style: none;
			margin: 0;
			padding: 0;
			max-width: 200px;
		}

		.media-device-id {
			overflow: hidden;
			text-overflow: ellipsis;
		}

		h2 {
			font-size: 1rem;
		}

		small {
			font-weight: 300;
			font-size: 0.7rem;
		}

		.title-video-info {
			margin-top: 60px;
		}

	</style>
	<script src="https://cdn.jsdelivr.net/npm/face-api.js@0.21.0/dist/face-api.js"></script>
</head>

<body>
	<div class="wrapper">
		<video id="inputVideo" autoplay muted playsinline onloadedmetadata="onPlay(this)"></video>
		<canvas id="overlay"></canvas>
	</div>
	<div class="info">
		<h2>Device Info</h2>

		<ul id="mediaDevices" class="media-devices"></ul>

		<div class="info-value">
			<h4>UserAgent</h4>
			<div id="userAgentString"></div>
		</div>

		<h2 class="title-video-info">Video Info</h2>

		<div class="info-value">
			<h4>video width</h4>
			<div id="videoWidth"></div>
		</div>
		<div class="info-value">
			<h4>video height</h4>
			<div id="videoHeight"></div>
		</div>
	</div>

	<div class="info">
		<h2>Detection</h2>
		<div class="info-value">
			<h4>face.width</h4>
			<div id="boxWidth"></div>
		</div>

		<div class="info-value">
			<h4>face.height</h4>
			<div id="boxHeight"></div>
		</div>

		<div class="info-value">
			<h4>face.x</h4>
			<div id="boxX"></div>
		</div>

		<div class="info-value">
			<h4>face.y</h4>
			<div id="boxY"></div>
		</div>

		<div class="info-value">
			<h4>Right Pupil (x,y - calculated)</h4>
			<div id="rightPupilPosition"></div>
		</div>

		<div class="info-value">
			<h4>Left Pupil (x,y - calculated)</h4>
			<div id="leftPupilPosition"></div>
		</div>

		<div class="info-value">
			<h4>Nose (x,y - calculated)</h4>
			<div id="nosePosition"></div>
		</div>

		<p>
			<small>*Left and right eyes are swapped for the front webcam.</small>
		</p>
	</div>

	<div class="info">
		<h2>Device Orientation</h2>

		<div class="info-value">
			<h4>alpha (Z)</h4>
			<div id="alpha">0.00</div>
		</div>
		<div class="info-value">
			<h4>beta (X)</h4>
			<div id="beta">0.00</div>
		</div>
		<div class="info-value">
			<h4>gamma (Y)</h4>
			<div id="gamma">0.00</div>
		</div>
	</div>

	<script src="app.js"></script>
</body>

</html>
